<!DOCTYPE html>
<html>
<head>
	<title>slave1</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script type="text/javascript" src="../src/PostMessage.js"></script>
</head>
<body>
	<div id="main">
		I am salve1 frame
		<button onclick="sendMesg()">send data</button>
	</div>
	<div id="content"></div>
</body>
<script type="text/javascript">
	var me = PM.component.name;
	function genInfo(name){
		return {info : "Hello [" + name + "] , I am [" + me + "] Now at " + new Date()};
	}
	function sendMesg (argument) {
		PM.send("MESTER" , "changeMaster" ,genInfo("MESTER"));
	}
	PM.extends("changeSlave1" , function(data){
		writeHtml(data.info);
		return "Slave1 changeSlave1 is called";
	});
	function writeHtml(text){
		var content = document.getElementById("content");
		content.innerHTML += "<br/>" + text;
	}
	console.log(PM);
</script>

</html>
